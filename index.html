<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>清风正道 - 八项规定模拟游戏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- 开始页面 -->
        <div id="start-page" class="page active">
            <div class="start-header">
                <div class="game-logo">🏛️</div>
                <h1>清风正道</h1>
                <p class="subtitle">八项规定模拟体验游戏</p>
            </div>
            <div class="start-intro">
                <p>你即将成为一名基层公务员，在工作中你将面临各种选择。</p>
                <p>坚守八项规定，赢得群众信任，推动城镇发展，实现仕途进步！</p>
            </div>
            <div class="game-mode-selection">
                <h3>选择游戏模式</h3>
                <button class="btn-mode btn-simple" onclick="startGame('simple')">简单模式</button>
                <button class="btn-mode btn-complex" onclick="startGame('complex')">复杂模式</button>
            </div>
            <div class="start-actions">
                <button class="btn-guide" onclick="showGuide()">📖 玩法指导</button>
                <button class="btn-continue" id="btn-continue" onclick="continueGame()">继续游戏</button>
            </div>
        </div>

        <!-- 主游戏页面 -->
        <div id="game-page" class="page">
            <!-- 顶部状态栏 -->
            <div class="status-bar">
                <div class="player-info">
                    <div class="avatar" id="avatar">👤</div>
                    <div class="player-details">
                        <div class="player-name" id="player-name">新任科员</div>
                        <div class="player-position" id="player-position">街道办事处</div>
                        <div class="scene-tag" id="scene-tag">📍 街道社区</div>
                    </div>
                </div>
                <div class="time-panel">
                    <div class="current-date">
                        <span class="date-year" id="current-year">2024</span>年
                        <span class="date-month" id="current-month">1</span>月
                    </div>
                    <div class="tenure-info">
                        <span class="tenure-icon">📅</span>
                        <span>任职 <strong id="tenure-months">0</strong> 个月</span>
                    </div>
                </div>
            </div>
            
            <!-- 升职进度条 -->
            <div class="promotion-bar">
                <div class="promotion-label">
                    <span>🎯 升职进度</span>
                    <span id="promotion-progress-text">0/20</span>
                </div>
                <div class="promotion-track">
                    <div class="promotion-fill" id="promotion-fill" style="width: 0%"></div>
                </div>
                <div class="streak-badge" id="streak-badge">🔥 连续正确: <span id="streak-count">0</span></div>
            </div>

            <!-- 属性面板 -->
            <div class="stats-panel">
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">😊</span>
                        <span class="stat-name">群众满意</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar" id="bar-satisfaction" style="width: 60%"></div>
                        </div>
                        <span class="stat-value" id="val-satisfaction">60</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">🏗️</span>
                        <span class="stat-name">城镇发展</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-development" id="bar-development" style="width: 50%"></div>
                        </div>
                        <span class="stat-value" id="val-development">50</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">⭐</span>
                        <span class="stat-name">政治声望</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-reputation" id="bar-reputation" style="width: 50%"></div>
                        </div>
                        <span class="stat-value" id="val-reputation">50</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">⚠️</span>
                        <span class="stat-name">廉政风险</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-risk" id="bar-risk" style="width: 0%"></div>
                        </div>
                        <span class="stat-value" id="val-risk">0</span>
                    </div>
                </div>
            </div>

            <!-- 事件卡片区域 -->
            <div class="event-area">
                <div class="event-card" id="event-card">
                    <div class="event-header">
                        <div class="event-type" id="event-type">日常工作</div>
                        <div class="event-stars" id="event-stars">⭐☆☆☆☆</div>
                    </div>
                    <div class="event-scene" id="event-scene">🏢</div>
                    <div class="event-title" id="event-title">新的一天开始了</div>
                    <div class="event-description" id="event-description">
                        作为新任科员，你需要处理各种事务...
                    </div>
                </div>

                <!-- 选项区域 -->
                <div class="choices-area" id="choices-area">
                    <div class="choice-btn" onclick="makeChoice(0)">
                        <span class="choice-text">选项一</span>
                    </div>
                    <div class="choice-btn" onclick="makeChoice(1)">
                        <span class="choice-text">选项二</span>
                    </div>
                </div>
                
                <!-- 助理提示区域 -->
                <div class="assistant-hint" id="assistant-hint">
                    <div class="hint-header">💡 助理提示</div>
                    <div class="hint-content" id="hint-content">
                        请参考相关规定做出选择...
                    </div>
                </div>
            </div>

            <!-- 底部菜单 -->
            <div class="bottom-menu">
                <div class="menu-item" onclick="showRules()">
                    <span class="menu-icon">📜</span>
                    <span>八项规定</span>
                </div>
                <div class="menu-item" onclick="showCases()">
                    <span class="menu-icon">📚</span>
                    <span>案例库</span>
                </div>
                <div class="menu-item" onclick="showAchievements()">
                    <span class="menu-icon">🏆</span>
                    <span>成就</span>
                </div>
                <div class="menu-item" onclick="showCareer()">
                    <span class="menu-icon">📈</span>
                    <span>仕途</span>
                </div>
            </div>
        </div>

        <!-- 复杂游戏页面 -->
        <div id="complex-game-page" class="page">
            <!-- 顶部状态栏 -->
            <div class="status-bar">
                <div class="player-info">
                    <div class="avatar" id="complex-avatar">👤</div>
                    <div class="player-details">
                        <div class="player-name" id="complex-player-name">基层科员</div>
                        <div class="player-position" id="complex-player-position">街道办</div>
                        <div class="scene-tag" id="complex-scene-tag">📍 街道社区</div>
                    </div>
                </div>
                <div class="time-panel">
                    <div class="current-date">
                        <span class="date-year" id="complex-current-year">2024</span>年
                        <span class="date-month" id="complex-current-month">1</span>月
                    </div>
                    <div class="tenure-info">
                        <span class="tenure-icon">📅</span>
                        <span>事件 <strong id="complex-total-events">0</strong> 个</span>
                    </div>
                </div>
            </div>
            
            <!-- 升职进度条 -->
            <div class="promotion-bar">
                <div class="promotion-label">
                    <span>🎯 升职进度</span>
                    <span id="complex-promotion-progress-text">0/20</span>
                </div>
                <div class="promotion-track">
                    <div class="promotion-fill" id="complex-promotion-fill" style="width: 0%"></div>
                </div>
                <div class="streak-badge" id="complex-streak-badge">🔥 连续正确: <span id="complex-streak-count">0</span></div>
            </div>

            <!-- 复杂模式属性面板 -->
            <div class="stats-panel">
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">😊</span>
                        <span class="stat-name">满意度</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar" id="complex-bar-satisfaction" style="width: 60%"></div>
                        </div>
                        <span class="stat-value" id="complex-val-satisfaction">60</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">🏗️</span>
                        <span class="stat-name">发展度</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-development" id="complex-bar-development" style="width: 50%"></div>
                        </div>
                        <span class="stat-value" id="complex-val-development">50</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">⭐</span>
                        <span class="stat-name">声誉</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-reputation" id="complex-bar-reputation" style="width: 50%"></div>
                        </div>
                        <span class="stat-value" id="complex-val-reputation">50</span>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-item">
                        <span class="stat-icon">⚠️</span>
                        <span class="stat-name">风险</span>
                        <div class="stat-bar-container">
                            <div class="stat-bar bar-risk" id="complex-bar-risk" style="width: 0%"></div>
                        </div>
                        <span class="stat-value" id="complex-val-risk">0</span>
                    </div>
                </div>
            </div>

            <!-- 资源和关系面板 -->
            <div class="complex-resources-panel">
                <div class="resources-section">
                    <h4>💰 资源状况</h4>
                    <div class="resource-items">
                        <div class="resource-item">
                            <span class="resource-icon">💵</span>
                            <span class="resource-name">资金</span>
                            <span class="resource-value" id="complex-money">10万</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-icon">👥</span>
                            <span class="resource-name">员工</span>
                            <span class="resource-value" id="complex-staff">10人</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-icon">📋</span>
                            <span class="resource-name">项目</span>
                            <span class="resource-value" id="complex-projects">2个</span>
                        </div>
                    </div>
                </div>
                
                <div class="relationships-section">
                    <h4>🤝 关系网络</h4>
                    <div class="relationship-items">
                        <div class="relationship-item">
                            <span class="relationship-name">市长</span>
                            <div class="relationship-bar-container">
                                <div class="relationship-bar" id="complex-rel-mayor" style="width: 50%"></div>
                            </div>
                            <span class="relationship-value" id="complex-val-mayor">50</span>
                        </div>
                        <div class="relationship-item">
                            <span class="relationship-name">秘书</span>
                            <div class="relationship-bar-container">
                                <div class="relationship-bar" id="complex-rel-secretary" style="width: 50%"></div>
                            </div>
                            <span class="relationship-value" id="complex-val-secretary">50</span>
                        </div>
                        <div class="relationship-item">
                            <span class="relationship-name">媒体</span>
                            <div class="relationship-bar-container">
                                <div class="relationship-bar" id="complex-rel-media" style="width: 50%"></div>
                            </div>
                            <span class="relationship-value" id="complex-val-media">50</span>
                        </div>
                        <div class="relationship-item">
                            <span class="relationship-name">公众</span>
                            <div class="relationship-bar-container">
                                <div class="relationship-bar" id="complex-rel-public" style="width: 50%"></div>
                            </div>
                            <span class="relationship-value" id="complex-val-public">50</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 成就显示 -->
            <div class="complex-achievements-panel">
                <h4>🏆 已获成就</h4>
                <div class="achievements-display" id="complex-achievements-display">
                    暂无成就
                </div>
            </div>

            <!-- 事件卡片区域 -->
            <div class="event-area">
                <div class="event-card" id="complex-event-card">
                    <div class="event-header">
                        <div class="event-type" id="complex-event-type">日常工作</div>
                        <div class="event-stars" id="complex-event-stars">⭐☆☆☆☆</div>
                    </div>
                    <div class="event-scene" id="complex-event-scene">🏢</div>
                    <div class="event-title" id="complex-event-title">新的一天开始了</div>
                    <div class="event-description" id="complex-event-description">
                        作为新任科员，你需要处理各种事务...
                    </div>
                </div>

                <!-- 选项区域 -->
                <div class="choices-area" id="complex-choices-area">
                    <div class="choice-btn" onclick="makeComplexChoice(0)">
                        <span class="choice-text">选项一</span>
                    </div>
                    <div class="choice-btn" onclick="makeComplexChoice(1)">
                        <span class="choice-text">选项二</span>
                    </div>
                </div>
            </div>

            <!-- 底部菜单 -->
            <div class="bottom-menu">
                <div class="menu-item" onclick="showRules()">
                    <span class="menu-icon">📜</span>
                    <span>八项规定</span>
                </div>
                <div class="menu-item" onclick="showCases()">
                    <span class="menu-icon">📚</span>
                    <span>案例库</span>
                </div>
                <div class="menu-item" onclick="showComplexAchievements()">
                    <span class="menu-icon">🏆</span>
                    <span>成就</span>
                </div>
                <div class="menu-item" onclick="showComplexCareer()">
                    <span class="menu-icon">📈</span>
                    <span>仕途</span>
                </div>
                <div class="menu-item" onclick="switchToSimpleMode()">
                    <span class="menu-icon">🔄</span>
                    <span>简单模式</span>
                </div>
            </div>
        </div>

        <!-- 案例库弹窗 -->
        <div class="modal" id="cases-modal">
            <div class="modal-content cases-content">
                <div class="modal-header">
                    <h3>📚 真实案例库</h3>
                    <button class="btn-close" onclick="closeModal('cases-modal')">×</button>
                </div>
                <div class="cases-categories" id="cases-categories"></div>
                <div class="cases-list" id="cases-list"></div>
            </div>
        </div>

        <!-- 案例详情弹窗 -->
        <div class="modal" id="case-detail-modal">
            <div class="modal-content case-detail-content">
                <div class="modal-header">
                    <h3 id="case-detail-title">案例详情</h3>
                    <button class="btn-close" onclick="closeModal('case-detail-modal')">×</button>
                </div>
                <div class="case-detail" id="case-detail"></div>
            </div>
        </div>

        <!-- 结果反馈弹窗 -->
        <div class="modal" id="result-modal">
            <div class="modal-content result-content">
                <div class="result-icon" id="result-icon">✓</div>
                <div class="result-title" id="result-title">选择正确</div>
                <div class="result-text" id="result-text"></div>
                <div class="crime-info" id="crime-info" style="display:none;"></div>
                <div class="result-effects" id="result-effects"></div>
                <div class="rule-tip" id="rule-tip"></div>
                <button class="btn-modal" onclick="closeResultAndContinue()">继续</button>
            </div>
        </div>

        <!-- 八项规定弹窗 -->
        <div class="modal" id="rules-modal">
            <div class="modal-content rules-content">
                <div class="modal-header">
                    <h3>📜 中央八项规定</h3>
                    <button class="btn-close" onclick="closeModal('rules-modal')">×</button>
                </div>
                <div class="rules-list" id="rules-list"></div>
            </div>
        </div>

        <!-- 成就弹窗 -->
        <div class="modal" id="achievements-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>🏆 成就系统</h3>
                    <button class="btn-close" onclick="closeModal('achievements-modal')">×</button>
                </div>
                <div class="achievements-list" id="achievements-list"></div>
            </div>
        </div>

        <!-- 仕途弹窗 -->
        <div class="modal" id="career-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>📈 仕途之路</h3>
                    <button class="btn-close" onclick="closeModal('career-modal')">×</button>
                </div>
                <div class="career-path" id="career-path"></div>
            </div>
        </div>

        <!-- 升职弹窗 -->
        <div class="modal" id="promotion-modal">
            <div class="modal-content promotion-content">
                <div class="promotion-icon">🎊</div>
                <h2>恭喜升职！</h2>
                <div class="promotion-from" id="promotion-from"></div>
                <div class="promotion-arrow">⬇️</div>
                <div class="promotion-to" id="promotion-to"></div>
                <p class="promotion-msg" id="promotion-msg"></p>
                <button class="btn-modal btn-gold" onclick="closeModal('promotion-modal')">继续奋斗</button>
            </div>
        </div>

        <!-- 游戏结束弹窗 -->
        <div class="modal" id="gameover-modal">
            <div class="modal-content gameover-content">
                <div class="gameover-icon" id="gameover-icon">😔</div>
                <h2 id="gameover-title">游戏结束</h2>
                <p class="gameover-reason" id="gameover-reason"></p>
                <div class="gameover-stats" id="gameover-stats"></div>
                <button class="btn-modal" onclick="restartGame()">重新开始</button>
            </div>
        </div>

        <!-- 游戏指导弹窗 -->
        <div class="modal" id="guide-modal">
            <div class="modal-content guide-content">
                <div class="modal-header">
                    <h3>📖 游戏玩法指导</h3>
                    <button class="btn-close" onclick="closeModal('guide-modal')">×</button>
                </div>
                <div class="guide-tabs">
                    <button class="guide-tab active" onclick="showGuideTab('basic')">基础玩法</button>
                    <button class="guide-tab" onclick="showGuideTab('complex')">复杂模式</button>
                    <button class="guide-tab" onclick="showGuideTab('tips')">进阶技巧</button>
                </div>
                <div class="guide-content-area">
                    <!-- 基础玩法 -->
                    <div id="guide-basic" class="guide-tab-content active">
                        <h4>🎯 游戏目标</h4>
                        <p>作为一名公务员，你需要在工作中严格遵守八项规定，提升群众满意度、推动城镇发展，并在仕途上稳步前进。</p>
                        
                        <h4>📊 属性说明</h4>
                        <div class="guide-stats">
                            <div class="guide-stat-item">
                                <span class="stat-icon">😊</span>
                                <strong>群众满意度</strong>：影响升职和民众支持，是最重要的指标之一
                            </div>
                            <div class="guide-stat-item">
                                <span class="stat-icon">🏗️</span>
                                <strong>城镇发展</strong>：体现你的工作成果，影响长远发展
                            </div>
                            <div class="guide-stat-item">
                                <span class="stat-icon">⭐</span>
                                <strong>政治声望</strong>：在上级眼中的印象，影响升职机会
                            </div>
                            <div class="guide-stat-item">
                                <span class="stat-icon">⚠️</span>
                                <strong>廉政风险</strong>：过高会导致游戏失败，需要严格控制
                            </div>
                        </div>

                        <h4>🎮 基本操作</h4>
                        <ul>
                            <li>仔细阅读事件描述，理解情况背景</li>
                            <li>参考助理提示和八项规定做出选择</li>
                            <li>观察选择后的属性变化和反馈</li>
                            <li>积累正确选择，获得升职机会</li>
                        </ul>
                    </div>

                    <!-- 复杂模式 -->
                    <div id="guide-complex" class="guide-tab-content">
                        <h4>💰 资源管理</h4>
                        <div class="guide-stats">
                            <div class="guide-stat-item">
                                <span class="resource-icon">💵</span>
                                <strong>资金</strong>：执行项目和政策的基础，初始30万元
                            </div>
                            <div class="guide-stat-item">
                                <span class="resource-icon">👥</span>
                                <strong>员工</strong>：团队力量，影响工作效率
                            </div>
                            <div class="guide-stat-item">
                                <span class="resource-icon">📋</span>
                                <strong>项目</strong>：推进的工作项目数量
                            </div>
                        </div>

                        <h4>🤝 关系网络</h4>
                        <p>维护好与各方面的关系，对仕途发展至关重要：</p>
                        <ul>
                            <li><strong>市长关系</strong>：直接影响升职机会</li>
                            <li><strong>秘书关系</strong>：办事效率的重要因素</li>
                            <li><strong>媒体关系</strong>：影响公众形象</li>
                            <li><strong>公众关系</strong>：民意基础，不可忽视</li>
                        </ul>

                        <h4>⚡ 突发事件</h4>
                        <p>复杂模式包含10种突发事件，需要快速应对：</p>
                        <ul>
                            <li>重大安全事故、自然灾害</li>
                            <li>疫情爆发、环境污染</li>
                            <li>网络舆情、群体性事件</li>
                            <li>处理得当可大幅提升声誉</li>
                        </ul>

                        <h4>🏆 成就系统</h4>
                        <p>通过特定行为可获得成就，带来属性加成：</p>
                        <ul>
                            <li>廉政模范、人民公仆、发展先锋</li>
                            <li>危机专家、创新达人等</li>
                        </ul>
                    </div>

                    <!-- 进阶技巧 -->
                    <div id="guide-tips" class="guide-tab-content">
                        <h4>💡 资金管理技巧</h4>
                        <ul>
                            <li><strong>开源节流</strong>：优先选择能获得资金的事件选项</li>
                            <li><strong>投资回报</strong>：适当投入换取长期收益</li>
                            <li><strong>应急储备</strong>：预留资金应对突发事件</li>
                            <li><strong>资金获取</strong>：招商引资、申请专项资金等方式</li>
                        </ul>

                        <h4>🎯 升职策略</h4>
                        <ul>
                            <li><strong>平衡发展</strong>：各项属性不要偏科，均衡提升</li>
                            <li><strong>风险控制</strong>：廉政风险务必控制在安全范围</li>
                            <li><strong>关键选择</strong>：连续正确选择可获得升职加速</li>
                            <li><strong>长远规划</strong>：有些短期损失是为了长远利益</li>
                        </ul>

                        <h4>⚠️ 常见陷阱</h4>
                        <ul>
                            <li><strong>贪图小利</strong>：收受好处虽有短期收益，风险极大</li>
                            <li><strong>推诿责任</strong>：遇到问题推卸责任会严重损害声誉</li>
                            <li><strong>形式主义</strong>：表面应付会被群众看穿</li>
                            <li><strong>资金短缺</strong>：过度消耗资金会限制后续发展</li>
                        </ul>

                        <h4>🌟 成功心得</h4>
                        <ul>
                            <li><strong>以人为本</strong>：群众满意度是立身之本</li>
                            <li><strong>清正廉洁</strong>：严格遵守八项规定，拒绝诱惑</li>
                            <li><strong>务实进取</strong>：既要脚踏实地，又要开拓创新</li>
                            <li><strong>统筹兼顾</strong>：平衡各方利益，寻求最优解</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="complex_game.js"></script>
    <script src="game.js"></script>
</body>
</html>
